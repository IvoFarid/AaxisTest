{% extends 'base.html.twig' %}

{% block title %}Symfony Test
{% endblock %}

{% block body %}
	{# {% if app.user %}
	      <p> estas logueado como {{app.user.email}}</p>
	    {% endif %} #}
	<div class="w-100 d-flex flex-column justify-content-center">
		<div class="d-flex justify-content-center pt-5">
			<h2 class="fw-medium text-white">Symfony Test</h2>
		</div>
		<div class="w-100 pe-5 ps-5 pt-3 pb-3">
    {% for message in app.flashes('resultProductRequest') %}
		<p class="flash-notice bg-white p-2 rounded fw-medium">
			{{ message }}
		</p>
	{% endfor %}
      <h4 class="fw-medium text-white">Products List</h4>
			<table class="table-dark table-striped-columns table">
				<thead>
					<tr>
						<th class="fw-medium">Id</th>
						<th class="fw-medium">Sku</th>
						<th class="fw-medium">Product_name</th>
						<th class="fw-medium">Description</th>
						<th class="fw-medium">Created_at</th>
						<th class="fw-medium">Update_at</th>
					</tr>
				</thead>
				<tbody>
					{% for product in products %}
						<tr>
							<td class="fw-light">{{ product.id }}</td>
							<td class="fw-light">{{ product.Sku }}</td>
							<td class="fw-light">{{ product.ProductName }}</td>
							<td class="fw-light">{{ product.description }}</td>
							<td class="fw-light">{{ product.createdAt ? product.createdAt|date('Y-m-d H:i:s') : '' }}</td>
							<td class="fw-light">{{ product.updateAt ? product.updateAt|date('Y-m-d H:i:s') : '' }}</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="7">no records found</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		<div class="d-flex gap-2 justify-content-center pe-5 ps-5 pb-5">
			<a href="{{ path('app_products_edit')}}" class="bg-dark text-white p-2 rounded">edit products</a>
			<a href="{{ path('app_product_new') }}" class="bg-primary text-white p-2 rounded">Create new</a>
		</div>
	</div>
{% endblock %}
